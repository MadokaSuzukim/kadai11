<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãªã‚“ã¦è©±ã—ã‹ã‘ã‚‹ï¼Ÿ</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/png" href="/favicon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <div align="center">
        <h1>ä»Šæ—¥ã®ãŠå‹ã ã¡ã¯å…ƒæ°—ã‹ãªï¼Ÿ</h1>
        <a href="home.php">ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</a>
        <!-- ã‚«ãƒ¼ãƒ‰è¡¨ç¤ºã‚¨ãƒªã‚¢ -->
        <div id="cardContainer" style="display:none;">
   </div>
   <!-- ã‚«ãƒ¼ãƒ‰ã®å†…å®¹ã¯ JavaScript ã§å‹•çš„ã«è¿½åŠ ã•ã‚Œã‚‹ -->
   <br>ã€Œã‚¹ã‚¿ãƒ¼ãƒˆã€ã‚’ãŠã—ã¦ã€<br>ã©ã†ã‚„ã£ã¦è©±ã—ã‹ã‘ã‚‹ã‹ï¼“ã¤ã®ã‚«ãƒ¼ãƒ‰ã‹ã‚‰é¸ã‚“ã§ã­ã€‚<br>

    <!-- ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ãƒŸãƒ¥ãƒ¼ã‚¸ãƒƒã‚¯ç”¨ã®audioã‚¿ã‚°ã‚’è¿½åŠ  -->
        <audio id="backgroundMusic" loop>
            <source src="backmusic.m4a" type="audio/mp3">
        </audio>
        
    <!-- ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³ã¨ãƒŸãƒ¥ãƒ¼ãƒˆãƒœã‚¿ãƒ³ã®ã‚³ãƒ³ãƒ†ãƒŠ -->
    <div class="button-container">
    
        <!-- ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³ã«éŸ³å£°å†ç”Ÿæ©Ÿèƒ½ã‚’çµ„ã¿åˆã‚ã›ã‚‹ -->
        <button onclick="startWithSound();">ã‚¹ã‚¿ãƒ¼ãƒˆï¼ˆéŸ³ä»˜ãï¼‰</button>
    
        <!-- muteåˆ‡ã‚Šæ›¿ãˆãƒœã‚¿ãƒ³ -->
        <button id="muteButton" onclick="toggleMute()">éŸ³ã‚’æ¶ˆã™ / éŸ³ã‚’å‡ºã™</button>
    </div>
     
     <!-- éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ« -->
<audio id="btn_audio">
    <source src="start.mp3" type="audio/mp3">
</audio>

<!-- ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ã®ã‚³ãƒ³ãƒ†ãƒŠ -->
<div class="reaction-buttons">
    <button id="smileButton" onclick="janken('ğŸ˜');" disabled><img src="image/1.png" alt=""></button>
    <button id="nomalButton" onclick="janken('ğŸ˜€');" disabled><img src="image/2.png" alt=""></button>
    <button id="cryButton" onclick="janken('ğŸ˜‚');" disabled><img src="image/3.png" alt=""></button>
</div>
<br>
<table border="1" style="border-collapse: collapse">     
<br>ã©ã‚“ãªæ€ã„ã‹ãªã‚“ã¦ã‚ã‹ã‚‰ãªã„ã‘ã©ã€çŸ¥ã‚ã†ã¨ã™ã‚‹ã®ã£ã¦å¤§äº‹ã ã‚ˆã­ã€‚
</table>
        
<!-- <table border="1" style="border-collapse: collapse">
    <tr>
        <td align="center" id="playerEmotion"><h2>è²´æ–¹ã®æ„Ÿæƒ… <div id="PlayerHand"></div></h2></td>
        <td align="center" id="opponentEmotion"><h2>ç›¸æ‰‹ã®æ„Ÿæƒ… <div id="RivalHand"></div></h2></td>
    </tr>
       
</table> -->
    <br>
<div id="Result"></div>
</div>

<!-- ãƒ¢ãƒ¼ãƒ€ãƒ«ã®HTML -->
    <div id="resultModal" class="modal" style="display:none;">
        <div class="modal-content">
          <span class="close-button">&times;</span>
          <p id="modalText"></p>
          <!-- ãã®ä»–ã®ãƒ¢ãƒ¼ãƒ€ãƒ«å†…å®¹ -->
          <button id="retryButton">å†ãƒˆãƒ©ã‚¤</button>
    <audio id="close_audio">
        <source src="next.mp3" type="audio/mp3">
    </audio>
    <button onclick="closeWithSound();">çµ‚äº†ã™ã‚‹</button>
    <a href="https://marumark-98145.bubbleapps.io/signin" target="_blank" class="marumark-button">Marumark</a>
        </div>
      </div>
    <script src="janken.js"></script></body>

</html>
       
<!-- <img src="image/cry.png" alt="æ³£ã„ã¦ã„ã‚‹" />
<img src="image/angry.png" alt="æ€’ã£ã¦ã„ã‚‹" />
<img src="image/laugh.png" alt="ç¬‘ã£ã¦ã„ã‚‹" />
        <div>æœ¬å½“ã«ç¬‘ã£ã¦ã‚‹ï¼Ÿ</button>
            <div>ä½•è€ƒãˆã¦ã‚‹ï¼Ÿ</div>
            <div>ã©ã†ã—ã¦æ³£ã„ã¦ã„ã‚‹ã®ã‹ãªï¼Ÿ</div> -->
        <!-- <br>
        
        <br> -->
<div id="Result"></div>
</div>

<!-- ãƒ¢ãƒ¼ãƒ€ãƒ«ã®HTML -->
<div id="resultModal" class="modal">
<div class="modal-content">
        <span class="close-button">&times;</span>
        <p id="modalText"></p>
        <button id="retryButton">å†ãƒˆãƒ©ã‚¤</button>

<!-- çµ‚äº†ã™ã‚‹éš›ã«å†ç”Ÿã™ã‚‹éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ« -->
<audio id="close_audio">
    <source src="next.mp3" type="audio/mp3">
</audio>

<!-- çµ‚äº†ã™ã‚‹ãƒœã‚¿ãƒ³ã«éŸ³å£°å†ç”Ÿæ©Ÿèƒ½ã‚’çµ„ã¿åˆã‚ã›ã‚‹ -->
<button onclick="closeWithSound();">çµ‚äº†ã™ã‚‹</button>
<a href="https://marumark-98145.bubbleapps.io/signin" target="_blank" class="marumark-button">Marumark</a>
            
    <!-- </div> -->
        <!-- </div> -->
    <!-- </div> -->
    <!-- <button id="yourButtonId">ã‚¯ãƒªãƒƒã‚¯</button> -->
    <script>
        const FPS = 30;
        const HANDS = ['ğŸ˜', 'ğŸ˜€', 'ğŸ˜‚'];
        let lastRivalHandIndex = 0;
        let gameLoopInterbalId = null;
        function gameLoop() {
            const handIndex = (lastRivalHandIndex + 1) % HANDS.length;
            lastRivalHandIndex = handIndex;
            // document.getElementById("RivalHand").innerHTML = HANDS[handIndex];
}

    function start() {
    // ã“ã“ã«ã‚²ãƒ¼ãƒ ã®ã‚¹ã‚¿ãƒ¼ãƒˆã«é–¢ã™ã‚‹å‡¦ç† */
        console.log("ã‚²ãƒ¼ãƒ ã‚’ã‚¹ã‚¿ãƒ¼ãƒˆã—ã¾ã™ã€‚")
        alert ("ã‚¹ã‚¿ãƒ¼ãƒˆã—ã¾ã™ã€‚éŸ³æ¥½ãŒæµã‚Œã‚‹ã‚ˆã€‚æ­¢ã‚ãŸã„ã¨ãã¯ã€éŸ³ã‚’æ¶ˆã™ã‚’æŠ¼ã—ã¦ã­ã€‚");;
    // ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ãƒŸãƒ¥ãƒ¼ã‚¸ãƒƒã‚¯ã®å†ç”Ÿ
    var backgroundMusic = document.getElementById("backgroundMusic");
    backgroundMusic.play().then(() => {
        console.log("ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ãƒŸãƒ¥ãƒ¼ã‚¸ãƒƒã‚¯ã®å†ç”Ÿã‚’é–‹å§‹ã—ã¾ã—ãŸã€‚");
    }).catch(error => {
        console.error("ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ãƒŸãƒ¥ãƒ¼ã‚¸ãƒƒã‚¯ã®å†ç”Ÿã«å¤±æ•—ã—ã¾ã—ãŸ:", error);
    });


    // ä»–ã®ãƒœã‚¿ãƒ³ã‚’æœ‰åŠ¹åŒ–ã™ã‚‹
        document.getElementById("smileButton").disabled = false;
        document.getElementById("nomalButton").disabled = false;
        document.getElementById("cryButton").disabled = false;

    // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¨ç›¸æ‰‹ã®æ‰‹ã‚’åˆæœŸåŒ–ã™ã‚‹
        // document.getElementById("PlayerHand").innerHTML ='';
        // document.getElementById("RivalHand").innerHTML ='';

    // çµæœè¡¨ç¤ºã‚’ã‚¯ãƒªã‚¢ã™ã‚‹
        document.getElementById("Result").innerHTML = '';
        gameLoopInterbalId = setInterval(gameLoop, 1000 / FPS);
        
    // ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—ã‚’é–‹å§‹ã™ã‚‹
    // if (gameLoopInterbalId !== null) 
        clearInterval(gameLoopInterbalId); // ä»¥å‰ã®ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—ãŒå­˜åœ¨ã™ã‚‹å ´åˆã¯ã‚¯ãƒªã‚¢ã™ã‚‹
        gameLoopInterbalId = setInterval(gameLoop, 1000 / FPS);
}

    // startWithSound() é–¢æ•°ã¯æ­£ã—ãéŸ³å£°ã‚’å†ç”Ÿã—ã¦ã‹ã‚‰ start() é–¢æ•°ã‚’å‘¼ã³å‡ºã—ã¦ã„ã‚‹ã®ã§ã€ã“ã®ãƒ­ã‚¸ãƒƒã‚¯ã¯ãã®ã¾ã¾ã§å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚
    function startWithSound() {
        audio(); // éŸ³å£°ã‚’å†ç”Ÿã™ã‚‹é–¢æ•°ã‚’å‘¼ã³å‡ºã™
        start(); // ã‚²ãƒ¼ãƒ ã®ã‚¹ã‚¿ãƒ¼ãƒˆå‡¦ç†ã‚’å‘¼ã³å‡ºã™
}
        
    function audio() {
    var sound = document.getElementById("btn_audio");
    // mutedçŠ¶æ…‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã€mutedã§ãªã„å ´åˆã®ã¿å†ç”Ÿã™ã‚‹
    if (!sound.muted) {
    sound.play(); // éŸ³å£°ã‚’å†ç”Ÿ
    }
}
    function closeWithSound() {
    var sound = document.getElementById("close_audio"); // close_audioè¦ç´ ã‚’å–å¾—
    sound.play(); // éŸ³å£°ã‚’å†ç”Ÿ
}
    // ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹å‡¦ç†ã‚‚ã“ã“ã«è¿½åŠ ã™ã‚‹ã‹ã€ã‚‚ã—ãã¯ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹åˆ¥ã®å‡¦ç†ã‚’ãƒˆãƒªã‚¬ãƒ¼ã™ã‚‹
    var modal = document.getElementById('resultModal');
    modal.style.display = 'none';

    // ãƒ¢ãƒ¼ãƒ€ãƒ«å†…ã®å†ãƒˆãƒ©ã‚¤ãƒœã‚¿ãƒ³ã‚’å–å¾—
    var retryButton = document.getElementById('retryButton');
    
    // å†ãƒˆãƒ©ã‚¤ãƒœã‚¿ãƒ³ã«ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã‚’è¨­å®š
    retryButton.addEventListener('click', function() {
        var modal = document.getElementById('resultModal');
        modal.style.display = 'none'; // ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’éè¡¨ç¤ºã«ã™ã‚‹
        start(); // ã‚²ãƒ¼ãƒ ã‚’å†ã‚¹ã‚¿ãƒ¼ãƒˆ

    
     // å†ãƒˆãƒ©ã‚¤ãƒœã‚¿ãƒ³ã®ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ
     retryButton.onclick = function() {
    modal.style.display = 'none'; // ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹
    start(); // ã‚²ãƒ¼ãƒ ã‚’å†ã‚¹ã‚¿ãƒ¼ãƒˆ
    }});
    document.addEventListener("DOMContentLoaded", function() {
    });

// ã˜ã‚ƒã‚“ã‘ã‚“é–¢æ•°
    function janken() {
  var smileButton = document.getElementById("smileButton");
  if (smileButton !== null) {
    smileButton.disabled = true; // ã“ã“ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã„ã‚‹
  } else {
    console.log("smileButton not found");
  }
  var normalButton = document.getElementById("normalButton"); // æ­£ã—ã„IDã‚’æŒ‡å®š
  if (normalButton !== null) {
    normalButton.disabled = true; // normalButtonãŒå­˜åœ¨ã™ã‚‹å ´åˆã«disabledã‚’trueã«è¨­å®š
  } else {
    console.log("normalButton not found"); // normalButtonãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã®ãƒ­ã‚°
  }

  var cryButton = document.getElementById("cryButton"); // æ­£ã—ã„IDã‚’æŒ‡å®š
  if (cryButton !== null) {
    cryButton.disabled = true; // cryButtonãŒå­˜åœ¨ã™ã‚‹å ´åˆã«disabledã‚’trueã«è¨­å®š
  } else {
    console.log("cryButton not found"); // cryButtonãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã®ãƒ­ã‚°
  }
}
// ä»¥ä¸‹ã€ã‚²ãƒ¼ãƒ ã®ãƒ­ã‚¸ãƒƒã‚¯

    document.addEventListener('DOMContentLoaded', function () {
    var closeButton = document.getElementsByClassName('close-button')[0]; // ã‚¯ãƒ©ã‚¹åãŒ 'close-button' ã®è¦ç´ ã‚’å–å¾—
    var modal = document.getElementById('resultModal'); // ãƒ¢ãƒ¼ãƒ€ãƒ«ã®è¦ç´ ã‚’å–å¾—
    closeButton.addEventListener('click', function() {
    modal.style.display = 'none'; // ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’éè¡¨ç¤ºã«ã™ã‚‹
    });
});
// ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®è¦ç´ ã‚’å–å¾—
var modal = document.getElementById('myModal');
          window.onclick = function(event) {
                if (event.target == modal) {
                    modal.style.display = 'none';
                }
          }
        function janken(playerHand) {
            clearInterval(gameLoopInterbalId);// æ—¢å­˜ã®ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ—ã‚’åœæ­¢

            // document.getElementById("PlayerHand").innerHTML = playerHand;// ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®é¸æŠã‚’è¡¨ç¤º

            const rivalHand = HANDS[lastRivalHandIndex];// ç›¸æ‰‹ã®æ‰‹ã‚’å–å¾—
            let result = "";// çµæœã‚’æ ¼ç´ã™ã‚‹å¤‰æ•°

// çµæœã®åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯
            if (playerHand === rivalHand) {
                result = "ã™ã¦ããªè¨€è‘‰ã‚’ã‹ã‘ã‚Œã¾ã—ãŸã­!";
            } else if (playerHand === 'ğŸ˜' && rivalHand === 'ğŸ˜€') {
                result = "ç›¸æ‰‹ãŒã©ã†è€ƒãˆã¦ã„ã‚‹ã®ã‹ã‚’çŸ¥ã‚‹ã®ã£ã¦ãŸã„ã›ã¤ã ã‚ˆã­ã€‚";
            } else if (playerHand === 'ğŸ˜‚' && rivalHand === 'ğŸ˜') {
                result = "ä»Šã¯ãã£ã¨ã—ã¨ã„ãŸã»ã†ãŒã„ã„ã®ã‹ã‚‚ã—ã‚Œãªã„ã­ã€‚ã—ã‚“ã©ã•ãŒã‚ã£ãŸã‚‰èª°ã‹ã«æ‰“ã¡æ˜ã‘ã‚‹ã®ã‚‚ä¸€ã¤ã§ã™ã€‚";
            } else if (playerHand === 'ğŸ˜‚' && rivalHand === 'ğŸ˜€') {
                result = "ãŠãŸãŒã„ã«ã¨ã£ã¦ã€ã„ã„ã¨ã“ã‚ã£ã¦ã©ã“ã ã‚ã†ï¼Ÿ";
            } else if (playerHand === 'ğŸ˜' && rivalHand === 'ğŸ˜‚' || playerHand === 'ğŸ˜€' && rivalHand === 'ğŸ˜‚') {
                result = "è‡ªåˆ†ãŒã—ã‚“ã©ã„æ™‚ã‚‚ã€ä¼ãˆã‚‰ã‚Œã‚‹ã¨ã„ã„ã‚ˆã­ã€‚";
            } else if (playerHand === 'ğŸ˜€' && rivalHand === 'ğŸ˜' ) {
                result = "ãŠã¨ã‚‚ã ã¡ãŒã’ã‚“ãã ã¨ã†ã‚Œã—ã„ã­!";
            }else {
                result = "ã¿ã‚“ãªã—ã‚“ã©ã„æ™‚ã‚‚ã„ã„æ™‚ã‚‚ã‚ã‚‹ã®ãŒå½“ãŸã‚Šå‰ã ã­!è‰¯ã‹ã£ãŸã‚‰ã‚‚ã†ä¸€åº¦è©¦ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚";
            }

            showModal(result); // çµæœã‚’ãƒ¢ãƒ¼ãƒ€ãƒ«ã§è¡¨ç¤º

            // ãƒœã‚¿ãƒ³ã®çŠ¶æ…‹ã‚’ãƒªã‚»ãƒƒãƒˆ
            // document.getElementById("startButton").disabled = true;
            document.getElementById("smileButton").disabled = true;
            document.getElementById("nomalButton").disabled = true;
            document.getElementById("cryButton").disabled = true;

            function showModal(result) {
                var modal = document.getElementById('resultModal');
            var modalText = document.getElementById('modalText');
            modalText.innerText = result; // innerHTMLã§ã¯ãªãinnerTextã‚’ä½¿ç”¨ã—ã¦ã‚‚è‰¯ã„
            modal.style.display = 'block';
            }
var closeButton = document.getElementsByClassName('close-button')[0];
            closeButton.onclick = function() {
            // modal.style.display = 'none';
            }
           }

function mute() {
    if (document.getElementById('btn_audio').muted) {
        document.getElementById('btn_audio').muted = false;
    } else {
        document.getElementById('btn_audio').muted = true;
    }
}
    </script>
<!-- <footer>
    <a target="_blank" href="https://icons8.com/icon/NC4u31qGQ7Rz/ok">OK</a> ã‚¢ã‚¤ã‚³ãƒ³ by <a target="_blank" href="https://icons8.com">Icons8</a>
</footer> -->

</body>
</html>
 
